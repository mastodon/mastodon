.batch-table__row
  %label.batch-table__row__select.batch-checkbox
    = f.check_box :status_ids, { multiple: true, include_hidden: false }, status.id
  .batch-table__row__content
    .status__content><
      - if status.proper.spoiler_text.blank?
        = prerender_custom_emojis(status_content_format(status.proper), status.proper.emojis)
      - else
        %details<
          %summary><
            %strong> Content warning: #{prerender_custom_emojis(h(status.proper.spoiler_text), status.proper.emojis)}
          = prerender_custom_emojis(status_content_format(status.proper), status.proper.emojis)

    - unless status.proper.ordered_media_attachments.empty?
      - if status.proper.ordered_media_attachments.first.video?
        - video = status.proper.ordered_media_attachments.first
        = react_component :video, src: video.file.url(:original), preview: video.file.url(:small), frameRate: video.file.meta.dig('original', 'frame_rate'), blurhash: video.blurhash, sensitive: status.proper.sensitive?, visible: false, width: 610, height: 343, inline: true, alt: video.description, media: [ActiveModelSerializers::SerializableResource.new(video, serializer: REST::MediaAttachmentSerializer)].as_json
      - elsif status.proper.ordered_media_attachments.first.audio?
        - audio = status.proper.ordered_media_attachments.first
        = react_component :audio, src: audio.file.url(:original), height: 110, alt: audio.description, duration: audio.file.meta.dig(:original, :duration)
      - else
        = react_component :media_gallery, height: 343, sensitive: status.proper.sensitive?, visible: false, media: status.proper.ordered_media_attachments.map { |a| ActiveModelSerializers::SerializableResource.new(a, serializer: REST::MediaAttachmentSerializer).as_json }

    .detailed-status__meta
      - if status.application
        = status.application.name
        ·
      = link_to ActivityPub::TagManager.instance.url_for(status), class: 'detailed-status__datetime', target: stream_link_target, rel: 'noopener noreferrer' do
        %time.formatted{ datetime: status.created_at.iso8601, title: l(status.created_at) }= l(status.created_at)
      - if status.edited?
        ·
        = t('statuses.edited_at_html', date: content_tag(:time, l(status.edited_at), datetime: status.edited_at.iso8601, title: l(status.edited_at), class: 'formatted'))
      - if status.discarded?
        ·
        %span.negative-hint= t('admin.statuses.deleted')
      ·
      - if status.reblog?
        = fa_icon('retweet fw')
        = t('statuses.boosted_from_html', acct_link: admin_account_inline_link_to(status.proper.account))
      - else
        = fa_visibility_icon(status)
        = t("statuses.visibilities.#{status.visibility}")
      - if status.proper.sensitive?
        ·
        = fa_icon('eye-slash fw')
        = t('stream_entries.sensitive_content')
      - if status.proper.local_only
        ·
        = fa_icon('chain-broken fw')
        = t('statuses.local_only')
